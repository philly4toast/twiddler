<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>

  <body>
    <header class="head">
      <a href="index.html">twitter</a> 
    </header>
  <div class="tweetFeed">
    <section class="main">
  </div>

    <script>
      $(document).ready(function(){




        var $body = $('.tweetFeed');
        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div class=tweet></div>');
          var $user = $('<p class=user></p>');
          $user.addClass(tweet.user).attr('data-user', tweet.user).text('@' + tweet.user + ' - '  + tweet.created_at + ': ' + tweet.message).appendTo($tweet);
          $tweet.appendTo('.main');
          index -= 1;
        }
        var $button = $("<button class='button' >'New Tweet!'</button>");
        $button.appendTo($body);
        $button.on('click', function(){
          generateRandomTweet();
          var tweet = streams.home[streams.home.length-1]
          var $tweet = $('<div class=tweet></div>');
          var $user = $('<p class=user></p>');
          var $message = $('<p class=message></p>');
         $user.addClass(tweet.user).attr('data-user', tweet.user).text('@' + tweet.user + ' - ' + tweet.created_at + ': ' + tweet.message).appendTo($tweet);

        $tweet.appendTo('.main');
        })


$('.tweetFeed').on('click', '.user', function(event){
          event.preventDefault();
          $('.button').hide();         
          var user = $(this).data('user');
          $('.userpage').remove();
          var $userpage = $('<h1 class=userpage>'+ 'Tweets by ' + '@' + user +'</h1>');
          $userpage.prependTo($body);
          $('.new').hide();
          $('.tweet').not("div:contains('" + user + "')").hide();
          $("div:contains('" + user + "')").show();          
        });

  $('.tweetFeed').css("font-family", "Arial");
  $('.head').css("color", "white");
  $('.head').css("background-color", "#00acee");
  $('.head').css("font-family", "Helvetica Neue");
  $('.head').css("font-size", "50px");
  $('.head a').css("text-decoration", "none");
  $('.head a').css("color", "white");
  $('.tweet').css("font-family", "Arial");


      });
    </script>

  </body>
</html>
